jQuery(document).ready(function ($) {
  $('.language-javascript, .language-js').each((i, block) => {
    $(block).parent('pre').addClass('code-container')
    $(block).addClass('javascript')
    hljs.highlightBlock(block)
  })
  $('.navbar .nav-item')
    .has('.dropdown-menu')
    .addClass('dropdown')
  $('.navbar .nav-item.dropdown > .nav-link')
    .addClass('dropdown-toggle')
    .attr('href', '#')
    .attr('role', 'button')
    .attr('aria-haspopup', 'true')
    .attr('aria-expanded', 'false')
    .attr('data-toggle', 'dropdown')
  $('.page h2, .page h3, .page h4').each(function (i) {
    var heading = $(this)
    var name = heading.text().toLowerCase().replace(/[^a-zA-Z0-9 -]|\s/g, '').trim()
    heading.attr('id', name).addClass('h-anchor')
  })
  $('.h-anchor').each(function (i) {
    var heading = $(this)
    var name = heading.attr('id')
    var link = document.location.protocol + '//' + document.location.hostname + ((document.location.port) ? ':' + (document.location.port) : '') + document.location.pathname + '#' + name
    var anchor = $('<a class="anchor"></a>')
    anchor.attr('href', link)
    heading.append(anchor)
  })
  if (document.location.hash) $(document).scrollTop($(document.location.hash).offset().top)
})
